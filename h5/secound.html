<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<meta content="target-densitydpi=device-dpi,width=750" name="viewport">
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black" name="apple-mobile-web-app-status-bar-style" />
<meta content="telephone=no,email=no" name="format-detection" />
<title>第二页</title>
<link href="css/common.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="css/style.css"/>
<body>

<div class="secound_container">
	<img src="images/bg_2.jpg" alt="" class="img_bg2">
	<div class="header_go"></div>
	<div class="description">
		<p>操作说明</p>
		<p>旋动下方圆形按钮，从左向右顺时针旋转，即可为江河充电加油</p>
	</div>
	<div class="circleBtn">
		<img src="images/line_after.png" alt="" class="line_before" id="pics" data-stade='0'>
		<div class="otercir_bor"></div>
		<div class="inercir_bor"></div>
		<div class="rotate" id='box'>
			<img id="img" src="images/outer_circle.png" class="outer_circle" style="transition:2s all ease;"/>
			<img src="images/color_circle.png" class="color_circle icon-play" id="img2" alt="">
			<span id="btn" class="click"><img id="middlecir" src="images/inner_btn.png" alt="" > </span>
			<span class="elect" id='span1'></span>
		</div>
	</div>
	<div class="battery_box" id="battery_shine">
    	<img src="images/battery.png" alt="" id="pic" data-status='0'>
    	<em class="pecent_num">30%</em>
    	<div class="electric_box" id="electric_btn">
    		<span></span>
	    	<span></span>
	    	<span></span>
	    	<span></span>
	    	<span></span>
			<span></span>
	    	<span></span>
			<span></span>
	    	<span></span>
			<span></span>
    	</div>
    </div>
</div>
<script>
	window.onload=function(){
		var oBtn=document.getElementById('btn');
		var oImg2=document.getElementById('img2');
    oBtn.onclick=function(){
      oImg.className='icon-play';

      setTimeout(function(){
        oImg.className=' ';
      },5000);
    }
  }

</script>
  <script type="text/javascript">
   var oSpan=document.getElementById('span1');
    var a=90; // 角度
    var oDiv=document.getElementById('box');
     var oChangeImg = document.getElementById('pic');
    var oChangeImg1 = document.getElementById('pics');
    var sourceLeft=oSpan.offsetLeft;
    var sourceTop=oSpan.offsetTop;
    var R=oDiv.offsetWidth/2;
    var Bigtimer=null;
    var smalltimer=null;
    var b=160;
    var c=0;
    var op=0;
    var middlecirTimer=null;
    var electtop=null;
    var electbottom=null;
    var spantimer=null;
//手指滑动
  var oImg=document.getElementById('img');
  // var ocolorcir=document.getElementById('colorcir');
  var imgdeg=0;
  oImg.addEventListener("touchmove", function(){
   clearInterval(middlecirTimer);

   imgdeg+=10;
   console.log(imgdeg);
   oImg.style['-webkit-transform']='rotate('+imgdeg+'deg)';
  });
//手指点击中间部分
  var omiddlecir=document.getElementById('middlecir');
  omiddlecir.addEventListener('touchstart',function(){
    clearInterval(Bigtimer);
    clearTimeout(electtop);
    clearTimeout(electbottom);
    clearInterval(spantimer);
    imgdeg+=720;
    console.log(imgdeg)
    oImg.style['-webkit-transform']='rotate('+imgdeg+'deg)';
    // drowLine()
    //电池变化
    electtop=setTimeout(function change(){
        oChangeImg.src = 'images/shine_battery.png';

    },500);
  //电流图片
    electbottom=setTimeout(function(){
      oChangeImg1.src='images/line_before.png';
    },500);
 //改变电量变化
  	var oDivelect=document.getElementById('electric_btn')
  	var aSpan=oDivelect.getElementsByTagName('span');   // 获取标签为span的数组
  	var spanLength=aSpan.length;                       //获取数组长度
  	var index=spanLength-1;							   // 游标,因为数组是从0开始  这里减去1

  	var max = 10;

  	spantimer=setInterval(function(){

  		if(index >= spanLength - max )                                    //如果游标大于等于0给位于aSpan数组第Index处的span对象className赋值
  		{

  			var objSpan=aSpan[index];                   //得到要赋值的span对象

  			objSpan.className='electric';              //给该span的className赋值

  			index--;								  //游标减一，给下一次跳进这个函数的下一个span赋值
  		}
  		else
  		{
  			index = spanLength-1;
  			clearall();
  			 //当游标小于0时可以在此处终止计时器,充满电后的处理
  			//alert("hello   world!");

  		}

  	},2000);

  	/*
  		var oEbtn=document.getElementById('electric_btn');
  		var aSpan=document.getElementsByTagName('span');
  		function add(){

  			for(var i=0;i<aSpan.length;i++){

  				if(aSpan[i].className==""){
  					aSpan[i].className='electric';

  					console.log(aSpan[i].className);
  				}
  			}
  		}
  		add();
  	*/

  	function clearall(){

  			for(var i=0;i<aSpan.length;i++){

  				if(aSpan[i].className=="electric"){
  					aSpan[i].className='';

  					console.log(aSpan[i].className);
  				}
  			}
  		}
  });

  // function drowLine(){
  //     Bigtimer=setInterval(function (){
  //       a+=0.5;
  //       c+=0.5;
  //       op+=0.01;
  //      // console.log(c)
  //       if(a>=270){
  //         var x=0;
  //         b--;
  //         if(b<=-200){
  //           b=160;
  //           a=90;
  //           c=0;
  //           clearInterval(Bigtimer);
  //           oSpan.style.top=sourceTop+'px';
  //           oSpan.style.left=sourceLeft+'px';
  //           oSpan.style.opacity=0;
  //           drowLine()
  //         }else {
  //           oSpan.style.left=(x-4)+'px';
  //           oSpan.style.top=b+'px';
  //         }
  //       }else{
  //         var x=R+R*Math.sin(d2a(a));
  //         var y=R-R*Math.cos(d2a(a));
  //         oSpan.style.transform='rotate('+c+'deg)'
  //         oSpan.style.opacity=op;
  //         oSpan.style.left=(x-4)+'px';
  //         oSpan.style.top=y+'px';
  //       }

  //     }, 1);
  // };
  // function d2a(n)
  // {
  //   return n*Math.PI/180;
  // }
</script>

  <script>
  	window.onload=function(){


  	}
  </script>
<script>

</script>
<script type="text/javascript" src="js/MetaHandler.js"></script>
</body>
</html>
